{% extends 'base.html' %}

{% load staticfiles %}

{% block title %}View {{user_viewed.username}}'s profile{% endblock %}

{% block body_block %}

    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-10 col-md-12">
                <div class="thumbnail">
                    <div class="caption">
                        <div class="profile">
                            <div class="prof_header">
                                <div class="prof_avatar"><img src="/media/{{ user_profile.avatar }}" alt="" height="200" width="200" /></div>
                                <div class="prof_basic">
                                    <h2><b>{{user_viewed.first_name}} {{user_viewed.last_name}}</b></h2>
                                    <table>
                                        <tr><th><b> Username: </b></th><td>{{ user_viewed.username }}</td></tr>
                                        <tr><th><b> Age: </b></th><td>{{ age }}</td></tr>
                                        <tr><th><b> Last Seen On: </b></th><td>{{ user_viewed.last_login }}</td></tr>
                                    </table>
                                </div>
                            </div>


                            <label for="avgrating">Average Rating:</label><input class="rating" id="avgrating" value="{{avgrating}}" type="number" min=0 max=5 readonly="true" data-size="sm" />
                            {% ifnotequal user user_viewed %}
                                <label for="myrating">My Rating:</label>
                                {% csrf_token %}
                                <input id="myrating" type="number" class="rating"  value="{{ myrating }}" min=0 max=5 step=1 data-size="sm" rater-id="{{ user.id }}" rated-id="{{ user_viewed.id }}" />
                            {% endifnotequal %}
                            <hr>
                            <div class="table placeholders">
                                <table border="0">
                                    <tr>
                                        <td><h3><b>Latest Trips Created</b></h3></td>
                                    </tr>
                                    {% for trips in created_list %}
                                        <tr>
                                            <td>{{ trips }}</td>
                                        </tr>
                                    {% endfor %}
                                    <tr>
                                        <td><h3><b>Latest Trips Joined</b></h3></td>
                                    </tr>

                                    {% for trip in joined_list %}
                                        <tr>
                                            <td>{{ trips }}</td>
                                        </tr>
                                    {% endfor %}

                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

{% endblock %}
